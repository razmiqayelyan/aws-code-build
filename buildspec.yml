build:
  commands:
    - echo "üìÇ Checking if required files exist in the workspace..."
    - ls -la  # Debugging step to verify all files are present
    - |
      if [ ! -f "awslogo.png" ]; then 
        echo "‚ùå ERROR: awslogo.png is missing!"; 
        exit 1; 
      fi
      if [ ! -f "style.css" ]; then 
        echo "‚ùå ERROR: style.css is missing!"; 
        exit 1; 
      fi
      if [ ! -f "script.js" ]; then 
        echo "‚ùå ERROR: script.js is missing!"; 
        exit 1; 
      fi
      if [ ! -f "index.html" ]; then 
        echo "‚ùå ERROR: index.html is missing!"; 
        exit 1; 
      fi
    - echo "‚úÖ All required files are present!"
    - echo "üèóÔ∏è  Building the Docker image..."
    - docker build -t $IMAGE_NAME .
    - docker tag $IMAGE_NAME:latest $AWS_ACCOUNT_ID.dkr.ecr.$AWS_REGION.amazonaws.com/$IMAGE_NAME:latest
